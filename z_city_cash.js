
/*
城城分现金
活动入口：京东app-搜索“分现金”
活动时间：2021-03-19 - 2021-03-24

申明：这是一个及其不公平的脚本！
申明：这是一个及其不公平的脚本！
申明：这是一个及其不公平的脚本！

助力逻辑：本地添加助力码到本地助力池，从公共助力池拉取3个助力码追加到本地助力池后面。
循环助力开始，其实真正收益高的就是头部几个ck。
这个脚本不公平的放在于，账号多的人可以获得更高额的收益。
账号少的人虽然有机会被被助力，但微乎其微。
手机app端运行的用户是肯定被占便宜的。
所以请QuantumultX, Surge, Loon, 小火箭用户慎重使用这一脚本。

更新地址：https://raw.githubusercontent.com/i-chenzhe/qx/main/z_city_cash.js
已支持IOS双京东账号, Node.js支持N个京东账号
脚本兼容: QuantumultX, Surge, Loon, 小火箭，JSBox, Node.js
============Quantumultx===============
[task_local]
#城城分现金
12 0 19-24 3 * https://raw.githubusercontent.com/i-chenzhe/qx/main/z_city_cash.js, tag=城城分现金, enabled=true
================Loon==============
[Script]
cron "12 0 19-24 3 * " script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/z_city_cash.js, tag=城城分现金
===============Surge=================
城城分现金 = type=cron,cronexp="12 0 19-24 3 * ",wake-system=1,timeout=3600,script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/z_city_cash.js
============小火箭=========
城城分现金 = type=cron,script-path=https://raw.githubusercontent.com/i-chenzhe/qx/main/z_city_cash.js, cronexpr="12 0 19-24 3 * ", timeout=3600, enable=true
 */

const $ = new Env('城城分现金');
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const notify = $.isNode() ? require('./sendNotify') : '';
let cookiesArr = [], cookie = '',  message = '';
let localShareCodesList = [{"inviteId":"yjReHGE0mbQhqDs7W5h_1pBuDQEzNV7GR0t8X_o6qs79","encryptedPin":"RnFixmUNbTbentTDHj-j0OtIRS-93Sk"},{"inviteId":"RtGKiqjmAEjFAOvibrxGmsj0hc5WmeNOOCXpkdV8MnqUVIyc","encryptedPin":"RnEwwzFQbWGPn9RP--s1GZrTUP1DeY9GtzY"}];
const lottery = $.isNode() ? process.env.Z_CTYTCASH_LOTTERY || false : false;//是否需要抽奖
if ($.isNode()) {
    Object.keys(jdCookieNode).forEach((item) => {
        cookiesArr.push(jdCookieNode[item])
    })
    if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => { };
} else {
    let cookiesData = $.getdata('CookiesJD') || "[]";
    cookiesData = JSON.parse(cookiesData);
    cookiesArr = cookiesData.map(item => item.cookie);
    cookiesArr.reverse();
    cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
    cookiesArr.reverse();
    cookiesArr = cookiesArr.filter(item => !!item);
}
$.log('脚本版本 v0.2\n更新时间:2021-03-20 15:17\n仓库：https://www.github.com/i-chenzhe/qx');

var _0xod9='jsjiami.com.v6',_0x422c=[_0xod9,'w6k5K8KfTQ==','RDEQw7bCmgbDgsOlw7JVwpxTAnrDj0E=','w4bDuStswrI=','w4HCmBE=','TsOgBMK1','J8O3aWw=','wpXCqsKVw4Ir','w7vCgDbCicOHDA==','DH7DgcKGbcKkwpZDw6cOA1wn','wo/DrwhYIcOmBcOnwopxW21Sw4HDl8O8w5jDsMOD','w6bDi2nCggnCnQ==','5Y+j5bGZ5by+5ZGW5b+C54+95YqX5YqO44KH5YqZ5YqE56GG5Lij','HDlYJjVIwp/CvCg=','J8O5w4JrKg==','Qn7Dtgkteg==','w5nDlTxewqE=','wpjCmFzCnMKH','DGNwwqB7','w4TCnhJnLA==','wpzDsw9b','EcOTWcOQw4/CmcOpCw==','aXVuw6DCsw==','MFl2w7kZPH8=','wq8iwqoXPXfChcONOMKKwqo=','wptlVsOIwoMIIeW/n+WlqOOCleS5p+S5m+i2k+WPuA==','S3NjKMOT','w5kiasOOBw==','w4AswqvCqH7CisKXw4lkwqDDijrDo8K+','w4IKasO1IVzDpA==','YcK0JysrE8KMw6gxPTfCtMO1R3/DkRYiw54=','R1VLDgUJw53Dr8OdJ0M=','wqfCiCfDgwHChwtkZUR0w5XDgjjCjcOdworDvw9JwokFwr/CksOzRwhIw4p9fVDCvyrCi8OXWMOQbQXDq8KiD8KNw7Voe8OXw5DDqw==','w7h/BEE=','w7fDjXTCig==','wqJuw4tIIA==','b8O8woBOwqA=','w53DpDR2wrk=','ecKuwoXCjcOuYQ==','GnTDqsKkZA==','wrzDuj7Coww=','w4YyRi8w','OsO0EkPDqnh+wqXDgVIGOA==','S8KiYgrDhGoFwpgbBnPCqw==','w7HCgS7Cg8OSHTUf','GAdZNxQ=','L8O6dEowAsKU','wrJzHlsaN195w4lSbARwEFnCqcOuQgo=','wpjDsifCmRjCi8OYwowIwpdz','DDfCuEwxd8Otw4PDtsK8w5HDlcKww4E0w47CkcO0wqjDnMKaVH9NCsKwGhnDnU8dw77DiUg=','w5vCo27Dmw==','wodtEVPDrg==','w7xbw6vClmg=','w4bDiBx8wro=','VCA/w5TCsw==','w7fDgWrCgAHChxpMYlJUw4LClEzDmMKS','d8OhBcKLwrk=','w6I7HcKWw5xR','bnnCii7DhA==','Jxlmw5sDIFJ7VRBhwqHDmw==','Qy0Aw6rCuybDlMO6','UMKgLsKC','wr/DscKYw5AUajjCn0LDvcOAw6DCpDnDpcKzUGUpw4bCtMKqF8K6wqQDwozCq8OYLSsIU288','fMKiwo/CrcOX','w4XDshl6wp83RcOm','wp7Duw5DKw==','LcOdwq8w','AyhEKC9H','w7x2DEcWJsOTw4zClcKyw7fCoMKd','w6rDhn4T','w57CnxdSBMKcW8OKKBnDpMOeZw==','w6J/WcKBwo9nw4gUMGw=','R8O0wrgtI8ONw4xTL2c=','U3hhJDo=','C8Oaw5JhIA==','GsOfQcOZw5TCmsOoGsKuw6V8woMpB8O9f8KM','YsKqwoLCng==','ZsKjworCmMO/SsO9VnfCv2nCsGg=','PE7Dg8OWFcOy','Ek1Rw6wW','LmbDscKuaQ==','w6IeLMK2','YsOUwq8qJw==','Aj5N','w6F/AFA=','w6UNbB8g','w68eNcKwaw==','QHrDtQs=','M1TDo8OYHcO7Ag==','w4jDpEECAw==','NQzCh8OqZA==','IMOxc3AGEcKIw7A1MCnCksOYUnLCkg==','U8KuJsKFW8Ov','w5k4XCEi','WcOwA8KYwrs6B8OXw7DDrcKSw47DmCPDjwPDoTE/BQ==','fGdLw7/Ckg==','wrpPBF/Dkg==','DsOawrcGew==','w7LDs3HCmzA=','GixiDj8=','aMOVwpVPwpM=','GiZQPxI=','QzrCnQHDvQ==','MxTCgw==','FmV1wrdmAcOBFG/CvX9lNA==','w5PDvBh1','w5HDsRl6wqs=','XnrDqh08','wrkLwpMiBA==','Fnh3wqZmMcOd','NRRFHxA=','w6jCgzBpNQ==','w4IHfg==','5b+C5bqv772o','Owwmw4R5HcO6fMKTw6dJwosVwo7DiQ==','VSMBw6U=','KsOXMcOAwpzDvHZKcz9oc8KkWMKY','OMOzw797IcO6w5o8wqnDgD/Diw==','w7Q+Shg=','w74aMsKmbzU=','w6fDmABcfD1Gw6U=','OFpxw5s=','wqnCssKQw44tTTrDkgs=','T8Koeg7DqHYKwr8aDg==','cEvCnMKE','f3rCnRnDksKP','wr9ww6hkNMKzwqQNwoYi','TMOwBMKowrkt','R1VZFyUf','w5oHeMOFPFs=','MsOpFg==','KcOhw65o','wofCnFvCisKDYA==','w5YdegwH','S8KuIA==','XMO8DcKewro9EA==','R8Kmehs=','OB4Zw4FW','Gj5PPR5BwpXCqChhw6nDiWgZbzw=','w4lpw7rCsXDCjQ==','PBLCkMOWYzkkdyV4aSTCvcO6w7oT','HDhJLD5cwoU=','w6/DrG44HA==','C2R3wq5NI8ODFQ==','IcOaNcOhw4/DlnbCpQ==','f8OfwpxawpMDSsOM','w6vDjWTCigbCiBBo','L8O3YA==','5pec6Iyg54+26YSkdOODuQ==','J8O5c2g=','SMOuwr4rI8ORw4FJM2cnO8OUVsOj','44C/O+WHmw==','e8KiwojCgcOUaMO/Vw==','acK2w7txOmg7OOaXuOiOt+eOs+mEmuOAhg==','Kh43w5c=','N8OcIsOhw6PDlmTCnsOoUsK/w6xiZRE=','44Kq5YWPwqk=','L093w5MeL29kXA==','w70gGw==','wp3Drg5ZIMOzP8OpwpI=','OVLDqg==','w7pVw5jCj2Q=','WV9N','5byX5buz77+x','w7weM8KgZg==','w4BFf8K2wpo=','LRAnw5M=','cUNI','RsOowqs=','w5vDsgs=','5b+s5bqi772m','w7Y/D8KXw5o=','LsO6c8Oww74=','CmXDhcKGTcKJwppVw7syHko3dx7CvQ==','w6rCiivCn8OKDA==','w4TDjCR7eg==','wq01wpgqAA==','w5glfSEn','w4fCkFTDpHs=','VVtIw5rCsA==','w57CgwRJD8K4XcOINA==','EnHDpsKHTA==','w5zCsFTDvkU=','XS0S','5b615bql7722','w5/CtnXDhlp2PMKIYA==','w4nDkA9WYA==','bGRcw7rClw==','FcO+NcOXwrI=','w4VEDFAc','wrEowqw=','TnJg','wqwTwoUKGw==','wojDkB9WDQ==','5b2n5bi177yO','ITRkFw4=','wpDDszMqw5U=','44Cu5o2F56WN44OM6Kyi5YSR6I+C5Y245Lis5LqF6LeR5Y2d5LqIKcOOL8OlNDV955mC5o+K5LyH55afwp3CpXfCgMKjKueaneS5huS4kuetmOWKhuiOheWNsA==','KG5mwqBn','wqQBwp0ZJw==','Hx9gNz4=','aTvCiw/DhA==','acOSwo40Hg==','PMOrI8OCwqs=','BMOQcGMO','DcOfKGPDvQ==','bcKRSzzDgA==','wrBSNw==','wrJdw5p1Fw==','HVBqw5I2','w4Medy8k','QSMHw7fCug==','w53CvzNkGw==','MMOIJMOy','w59tw73CpQ==','wq4vwqoJFFbCmcOqNMKywrrCjMOu','w7TCgD8=','RGpbw5jCiw==','dmtBw7PCoQ==','KQhZBAo=','VUDCucKSaA==','w40VEMKkaA==','w5ocCcKxTg==','wr3DiD9DFA==','R1FEBiYG','fmfCjA7DkA==','5LiX5LiQ6L2d5Zia5Lqa56qD5pak5o+O','ZWh6Nx8=','w7XChnbDmk4=','dF3Dvikb','fA0Yw7XCiA==','BzlePygVw5nDtTBhw7TCgn57dDPCusOgw7tdDSLDsArCkcO2wr3CrcKTwpzCjnUHPsOyw4PDlMOQVcKJ','A8Orw5JoLw==','NxdjCDM=','ZVRXw43CoBYuKX3Dl8KfS8K5wrHChhzDrkYNwrAaw43DksKpH8O8wrBHw4h+woUBUHI5LsOQwoJbHg==','VcKRNsKGRg==','w5XCvx1rEA==','w6HChBxzCQ==','EMO8J0vDpg==','wqPCtsKN','RsKCfizDhQ==','wqPDphkNw78=','w6VUOk8F','YkFTCQg=','NwvCqcO7RQ==','e8OBHMK5wpo=','wpzCt8Ksw64S','CWJz','w6jCjirCmcOD','w6geNcKy','wpnCnEbCmMKbfA==','w6ceeDUO','GcOzfng3','bGrCmgTDkcKJO8KnXA0qLlwOw4bCt8Opw6PDiA==','w48dbcOeJ1rDjh13aCJyw6rCpsOEEMKRcsKV','wosuwqM8HA==','OMOGNw==','MC7Cg8Oecg==','w7zDhmQWOcO3','CHnDlMK8Xg==','w6sKNsKeUQ==','w6QwbQ0aO1By','BMOjw7JwDQ==','Y07Cj8KWYg==','w48PL8Kjdw==','RsO2AsK1wqA=','bE5hPsOS','Z8Klwo/CvsO+','S8KrMMKwZg==','QxLCuSvDkcKKUg==','ZkvChsKBbCs=','w5cBXMOvHw==','JXNMw6w1','wqdww49kI8KowrMk','esODE8KwwpM=','w6jDpnfCsRE=','YlXCmznDpw==','BMOSwpEUdw==','w49jw5rCsG7CkMK6w4c=','R8O0wqs=','w6rDlwJU','LR7Cl8OaUD8=','aUNOw4bCrB0=','wrA0wqw=','UHh0OMOHw48=','w7rDiGsBIsOp','wqRDIlPDkmI=','L8OQwrQ+aA==','csKxwoLCmsK2KcO2V3TCn2HCt3nDs8O3M0I=','PljDqMOJXMO2FwdawoU=','w5Fow6jCtGzDgsK9w7B4wrbChmXDuMKlw6MeS8OQw4IDPsORwqDDisOzUcK5wrkMwpTCnsOUbMO1ZknClgtOL1fDqcKHf1I8bC/CtHM+eRtowqjCicK7w75GIsKuWXI+woTDvMOTwoQOQX8Rw5dNw70jPyPDnsOMKwE0UMONw4XDshhlwr8xS8OYw65+w5DCm2YYw4JoUcKfwr7Cr8KrwqjDhQvCuwwAwoM+wp9wwpdPAQYPTMO1KjcHwq7CuSZlfEUewqJXVcK0w7dbwqhCbAXDoTvDmQnCksKKw7gxQMKIeSzCmsO1AWzDp8Kwwq/Dl8OpBsKTMTF2wrzChnrCg8K0YXbCrDM7dsKNKTYow5UjJ8KvTcOQTGJNEEUWdcO3w6rCkiDCsRdmFh3Cq8K1w5nCh39AMEYUBsKmV8KbdcOAwowqwoHCm8KqwrTCrWbDsX7CusKwKcKywq/CqzpHw7TCrxMbw4TCokFbYkrChcO0fitIwrbCmsOJIzZqacOdw57Co8OMJcKCX8OBw6zCt8K9GcOowqZ4XE/Crx/DmX1yTcK4LsOLScOC','bkLDhcKGbQ==','fCMPw5bCnQ==','wpfDogM2w5M=','wo7DuxALw7c=','enxQFDg=','UwPCpDPDqg==','w7g6UgktPF1nw7xAayJ9NEnDpQ==','Jhovw4ZxEMO4V8KGw7FlwqY=','wrYzUB5VYhAlwrUAL3cpQkzDqsKgXxjCrcKXw5jDnQzDpGjCoErCs0TDohYPdMOUw6h8wp7DgWg=','wojDrxJTOsO9OcOhwqJnAw==','w5PCm0fCm8KWKQ==','wrcsEMKLw4xMf8Oiw5TDrcO+YcOWY8Krwp0/wrd8w5lqY8ODw4JBTcOAw7PDoxPChFrCjMOMwqs4w6c=','RALCoCM=','wo3CsU/CuMKt','elLCucKOSg==','w7ptCEc6C8Oaw4c=','wrYJwqMPAQ==','DxPCtMO+cQ==','w6jDgSrCgBjCgFNndQ9ew57CjQ==','wrh6w7lgfMKgwrEqwoUq','w77Cmh5HJA==','QVzChgjDtg==','wooVwq0UNw==','w7YqCA==','XnjDvwAb','f0l6FCs=','XDES','XxbCpCI=','6YKH6KWW5LyS5pmt5LqS56aD56Se5rCe','D3fDksKHbQ==','w6IXWQwY','LBwfwoQ=','wqFXw7tlIQ==','wqF6w6hzPsKlwrg=','w7UuCMKD','w4XClgVvFsKxZMOcIiXDqMOfZ1c=','w4k7IsKCZg==','ZsKDbSvDqA==','woLDsirChRDChsOFwqo=','RcOywq8yCMOew5h4','O8O7BVA=','XsOowqkrD8ORw5Ny','PRrCl8OKdSUnew==','MlJmw5EeKWtn','WFtbJjM=','NcOcJMO7w6nDikPCosOgTcK/w6xschxQYcObLA==','S8KuIMKzXcOu','L8O/UUMv','w7/CmTBHGMOtYcOlLC/Dt8OIakrCmcKDKX0uPSxPX8OQNcKHD8Kgwr/DncKCw7rDjMKzGMK0','DcOuNnrDqUdVw7PDt24wZcKBwoRPwrEOZ8OBVwjDqMKQYQt/w6Z2w6k4w5sUwpUIWmZcBFvCmcOEwqYnwp0CwqouwoPCl2o=','DXlgwrVweMKBX2jClHd4bgNjw4/Cm8Kpw4BUwoFGw45Ow4TCpmIsM0PDvk3DggvDq8KTw59Fw7jCj8Khwr3Dhg==','w4vDvDdAbw==','5bO36K2C5o6W5LmR5Yu95Ymy56Kq5Yu/5YuI5Ym45rGq','5raU5Yut5YqD5YuU56Ga5Yif5p+a5Z+q5Yu45YqK5rO9','SMOywrggGcOYw5BpEmUvHcOxRMO/w4I=','LQPClcOncg==','w4DCiHPDpmM=','fMKowrTCjsO/fcO3XGbCmm/CrQ==','5b2f5aWR5ouM5aWn','K3tAwpNl','w7QPf8ODAA==','bsOQwpZcwog=','6YCS6Ke85L+t5pqW5Lmx56Wa56e05rG6','w6olAMKDUQ==','HmPDlMKcZ8KVwrBJw7QrHkoaQw==','w6/DtRlDwp4=','cF9I','I8Ohw7ds','TMOywoIUFQ==','XUReEjpRwoHCg8OWNlvCo8OmGsKgwrLCpMOVM8OoKcKbwq3CoT5cw5HCiURMw5bCosK8w4nCk8OnbcKIEwxZwpzCpQ==','wpTCicKrw5Qt','TcK4H8KUbQ==','E3PDjsKTfMKP','w75XNG8A','w4N2RcKxwro=','SF9Kw4fClg87NA==','bMOawqhHwpM=','w4HCo3PDjFw=','XCMBw6fCtw==','wq3CvcKdw4Uc','w7g8MMKNw45LZQ==','IhAk','RFVpwpwSVMKk5by+5aS544KE5LqA5Lue6LWd5Yyf','wrMuwqgQP3TCm8Or','YENPEAcKw4PDiQ==','fsKDesK5wqzCkjrDoMKrNQ==','PE7DgcOWFsO+FQ==','44OH5o+n56W544C2w4R+IRIHw4jltaLlponmlbQ=','5LiX5LiQ6Lav5Yyz','EMOYUcOFw7M=','w5nDtA9/wrUYXcOu','HMOPwr4jVCl2fQ==','wqborLXph4rmlJ/nmY/lvYToj6LljLgTw7IXOS7CpcOkL8KHwprDv8OBTsKMSDgvw6xnwpXCp8KZJkHDg8Oabw96wrMSwrUacsOxBhsdZ8KfQC7DmkU=','OMOzP3zDgA==','w6M6UB0mPUp8w6NJ','McOFOcOX','QMKoYRHDpGHltoHlp4DmlKdDF8Ov','WGzCix7DsMKaBcKq','5Luz5Lmn6LeC5Y2Y','CUhgw4g+KWtn','b8Obwo5TwpYPX8Ogw7BBXw==','OMK4JWU7BcKuw60JJmbDjcK8EQ==','wr99w69TOMK1wqQ=','LcOBNcOewpHDvXFLezh0','E1vDqWXDmcKHQTHCusOyS8K4CSfChsO1Hj7Ci8OrfsO/wrfCqsOzZsO/w4EGRsKzW1kVw5wRwoTDo1PDoAnCqw7CgsOFwpYHOMKXJw==','TMO8BMK2','wobCmMKsw6M9','RMKiej/Do2cBwogfF1/Cq8KbVjIoInbCgWU=','TmrCk8KIPMKbw4lbwrA=','FjrYsjFDiaNmi.UcBom.v6FKJSBxLO=='];(function(_0x2f3e31,_0x3a89c9,_0x2c6db2){var _0x1fa352=function(_0x24649a,_0x4670ad,_0x5369f8,_0x377616,_0x26ccf4){_0x4670ad=_0x4670ad>>0x8,_0x26ccf4='po';var _0x16d43f='shift',_0x3e08c5='push';if(_0x4670ad<_0x24649a){while(--_0x24649a){_0x377616=_0x2f3e31[_0x16d43f]();if(_0x4670ad===_0x24649a){_0x4670ad=_0x377616;_0x5369f8=_0x2f3e31[_0x26ccf4+'p']();}else if(_0x4670ad&&_0x5369f8['replace'](/[FrYFDNUBFKJSBxLO=]/g,'')===_0x4670ad){_0x2f3e31[_0x3e08c5](_0x377616);}}_0x2f3e31[_0x3e08c5](_0x2f3e31[_0x16d43f]());}return 0x79eea;};return _0x1fa352(++_0x3a89c9,_0x2c6db2)>>_0x3a89c9^_0x2c6db2;}(_0x422c,0x152,0x15200));var _0x4a39=function(_0x2d96a8,_0x7ddc5c){_0x2d96a8=~~'0x'['concat'](_0x2d96a8);var _0x464934=_0x422c[_0x2d96a8];if(_0x4a39['UzLErT']===undefined){(function(){var _0xfee5f0=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x2f78f5='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xfee5f0['atob']||(_0xfee5f0['atob']=function(_0xce597e){var _0x18c584=String(_0xce597e)['replace'](/=+$/,'');for(var _0x5695e8=0x0,_0x5b75ac,_0x5730e4,_0x1332e5=0x0,_0x231bf4='';_0x5730e4=_0x18c584['charAt'](_0x1332e5++);~_0x5730e4&&(_0x5b75ac=_0x5695e8%0x4?_0x5b75ac*0x40+_0x5730e4:_0x5730e4,_0x5695e8++%0x4)?_0x231bf4+=String['fromCharCode'](0xff&_0x5b75ac>>(-0x2*_0x5695e8&0x6)):0x0){_0x5730e4=_0x2f78f5['indexOf'](_0x5730e4);}return _0x231bf4;});}());var _0x18be9b=function(_0x4843f2,_0x7ddc5c){var _0x327d9d=[],_0xf7ad54=0x0,_0x5efde5,_0xddfa16='',_0x27db0a='';_0x4843f2=atob(_0x4843f2);for(var _0x5e42a5=0x0,_0x52b2f8=_0x4843f2['length'];_0x5e42a5<_0x52b2f8;_0x5e42a5++){_0x27db0a+='%'+('00'+_0x4843f2['charCodeAt'](_0x5e42a5)['toString'](0x10))['slice'](-0x2);}_0x4843f2=decodeURIComponent(_0x27db0a);for(var _0xfff18=0x0;_0xfff18<0x100;_0xfff18++){_0x327d9d[_0xfff18]=_0xfff18;}for(_0xfff18=0x0;_0xfff18<0x100;_0xfff18++){_0xf7ad54=(_0xf7ad54+_0x327d9d[_0xfff18]+_0x7ddc5c['charCodeAt'](_0xfff18%_0x7ddc5c['length']))%0x100;_0x5efde5=_0x327d9d[_0xfff18];_0x327d9d[_0xfff18]=_0x327d9d[_0xf7ad54];_0x327d9d[_0xf7ad54]=_0x5efde5;}_0xfff18=0x0;_0xf7ad54=0x0;for(var _0x53b1b4=0x0;_0x53b1b4<_0x4843f2['length'];_0x53b1b4++){_0xfff18=(_0xfff18+0x1)%0x100;_0xf7ad54=(_0xf7ad54+_0x327d9d[_0xfff18])%0x100;_0x5efde5=_0x327d9d[_0xfff18];_0x327d9d[_0xfff18]=_0x327d9d[_0xf7ad54];_0x327d9d[_0xf7ad54]=_0x5efde5;_0xddfa16+=String['fromCharCode'](_0x4843f2['charCodeAt'](_0x53b1b4)^_0x327d9d[(_0x327d9d[_0xfff18]+_0x327d9d[_0xf7ad54])%0x100]);}return _0xddfa16;};_0x4a39['YtXbzU']=_0x18be9b;_0x4a39['zmkLKd']={};_0x4a39['UzLErT']=!![];}var _0x26ae55=_0x4a39['zmkLKd'][_0x2d96a8];if(_0x26ae55===undefined){if(_0x4a39['ybAfTp']===undefined){_0x4a39['ybAfTp']=!![];}_0x464934=_0x4a39['YtXbzU'](_0x464934,_0x7ddc5c);_0x4a39['zmkLKd'][_0x2d96a8]=_0x464934;}else{_0x464934=_0x26ae55;}return _0x464934;};!(async()=>{var _0x2e7ecc={'PZRtI':function(_0x5c2655){return _0x5c2655();},'fZAPR':_0x4a39('0','I32I'),'XhuWe':_0x4a39('1','ASpO'),'bXKLa':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','giNMS':_0x4a39('2','KJBa'),'hqOXm':function(_0x16c0e0){return _0x16c0e0();},'jyXbB':function(_0x3adc6a,_0x2dc966){return _0x3adc6a<_0x2dc966;},'qIYZs':_0x4a39('3','tzjh'),'MfhDP':'NTiSM','qdGxI':function(_0x2db0aa,_0x622a9e){return _0x2db0aa(_0x622a9e);},'iidGM':function(_0x408f3a,_0x2781ce){return _0x408f3a+_0x2781ce;},'mHwux':function(_0x5d5004){return _0x5d5004();},'BKUCY':function(_0x50daa3,_0x3f28fb,_0x3c45c9){return _0x50daa3(_0x3f28fb,_0x3c45c9);},'eFjLN':_0x4a39('4','mFQG'),'IWuJN':_0x4a39('5','0&5M'),'QylbO':'将远端助力码追加至本地助力池','nHPJZ':function(_0x2f79f6,_0x5503ab){return _0x2f79f6(_0x5503ab);},'tYAUk':function(_0x2c2902){return _0x2c2902();},'wJsxO':_0x4a39('6','9ks#'),'qqWXq':function(_0x558a72,_0x4c9499){return _0x558a72!==_0x4c9499;},'NORbF':_0x4a39('7','4%9X'),'ebJPl':function(_0x4901bc,_0xd3f77a){return _0x4901bc===_0xd3f77a;},'VmxVX':_0x4a39('8','trr^'),'qUphA':'GWbRt','ItrVl':function(_0xcdff04,_0x490592){return _0xcdff04===_0x490592;},'FZHhH':function(_0x391736,_0x2593c5,_0x4118b3){return _0x391736(_0x2593c5,_0x4118b3);},'cfdBz':'city_receiveCash','wnvno':_0x4a39('9','cA^w'),'WUGPR':function(_0x2692b7,_0x239ab4){return _0x2692b7<_0x239ab4;},'fHKFs':_0x4a39('a','ASpO'),'JfQIb':function(_0x5dc9ff,_0x541d23){return _0x5dc9ff!==_0x541d23;},'QpQZa':_0x4a39('b','KJBa'),'BVGvO':_0x4a39('c','1w6z'),'IOcsa':_0x4a39('d','IISo'),'uRRfH':_0x4a39('e','n86q')};$['authorEncryptedPin']=_0x2e7ecc[_0x4a39('f','X(ou')];$[_0x4a39('10','0FLt')]=_0x2e7ecc[_0x4a39('11','fnDz')];if(!cookiesArr[0x0]){$[_0x4a39('12','t]@m')]($[_0x4a39('13','prYF')],_0x2e7ecc['bXKLa'],_0x2e7ecc[_0x4a39('14','9ks#')],{'open-url':_0x4a39('15','I0g!')});return;}await _0x2e7ecc[_0x4a39('16','3&k0')](getShareCode);await _0x2e7ecc['hqOXm'](getAuthorShareCode);for(let _0x26fe87=0x0;_0x2e7ecc[_0x4a39('17','PC6f')](_0x26fe87,cookiesArr[_0x4a39('18','0FLt')]);_0x26fe87++){if(cookiesArr[_0x26fe87]){if(_0x2e7ecc[_0x4a39('19','O*1R')]!==_0x2e7ecc[_0x4a39('1a','eXiO')]){cookie=cookiesArr[_0x26fe87];$[_0x4a39('1b','t]@m')]=_0x2e7ecc[_0x4a39('1c','IISo')](decodeURIComponent,cookie[_0x4a39('1d','trr^')](/pt_pin=(.+?);/)&&cookie[_0x4a39('1e','HifB')](/pt_pin=(.+?);/)[0x1]);$[_0x4a39('1f','3&k0')]=_0x2e7ecc['iidGM'](_0x26fe87,0x1);$[_0x4a39('20','WCPz')]=!![];$['nickName']='';await _0x2e7ecc['mHwux'](checkCookie);console[_0x4a39('21','ZjKc')](_0x4a39('22','ZjKc')+$['index']+'】'+($[_0x4a39('23','!usK')]||$[_0x4a39('24','I0g!')])+_0x4a39('25','tP$%'));if(!$[_0x4a39('26','n86q')]){$['msg']($['name'],_0x4a39('27','R%!)'),_0x4a39('28','3*)G')+$[_0x4a39('29','lNbU')]+'\x20'+($[_0x4a39('2a','fnDz')]||$[_0x4a39('2b','TfLj')])+_0x4a39('2c','trr^'),{'open-url':_0x2e7ecc[_0x4a39('2d','ASpO')]});if($['isNode']()){await notify[_0x4a39('2e',')w!%')]($[_0x4a39('2f','OfEL')]+_0x4a39('30','T1rl')+$[_0x4a39('31','t]j3')],_0x4a39('32','4%9X')+$[_0x4a39('1f','3&k0')]+'\x20'+$[_0x4a39('33','gS%b')]+'\x0a请重新登录获取cookie');}continue;}$['risk']=![];$['uuid']=await getUUID();$['lbsCity']=await random(0xa,0x19);$[_0x4a39('34','IISo')]=await _0x2e7ecc['BKUCY'](random,0xa,0x708);await _0x2e7ecc['BKUCY'](doTask,'city_getHomeData',_0x4a39('35','sZYY')+$[_0x4a39('36','wj]@')]+'\x22,\x20\x22realLbsCity\x22:\x20\x22'+$[_0x4a39('37','OfEL')]+_0x4a39('38','FhSc'));if(!$[_0x4a39('39','Q359')]){await $['wait'](0x3e8);await _0x2e7ecc[_0x4a39('3a','3&k0')](doTask,_0x4a39('3b','T1rl'),'{}');if($['userInviteId']&&$['userEncryptedPin']){var _0x472e7c=_0x4a39('3c','0FLt')['split']('|'),_0x4398e6=0x0;while(!![]){switch(_0x472e7c[_0x4398e6++]){case'0':$['log'](_0x2e7ecc[_0x4a39('3d','X(ou')]);continue;case'1':shareCode={'inviteId':$['userInviteId'],'encryptedPin':$[_0x4a39('3e','HifB')]};continue;case'2':await _0x2e7ecc[_0x4a39('3f','fnDz')](submitShareCode,shareCode);continue;case'3':$[_0x4a39('40','I32I')](_0x2e7ecc['IWuJN']);continue;case'4':localShareCodesList[_0x4a39('41','Q359')](shareCode);continue;}break;}}}}else{$[_0x4a39('42','sZYY')]();}}}$['log'](_0x2e7ecc[_0x4a39('43','3&k0')]);shareCodesList=localShareCodesList[_0x4a39('44','1GuM')]($[_0x4a39('45','0FLt')]);shareCodesList=$[_0x4a39('46','KmxV')][_0x4a39('47','pPuf')](shareCodesList);$['log'](_0x4a39('48',')w!%')+JSON[_0x4a39('49','0&5M')](shareCodesList));for(let _0x35eed2=0x0;_0x2e7ecc[_0x4a39('4a','prYF')](_0x35eed2,cookiesArr[_0x4a39('4b','HqgJ')]);_0x35eed2++){cookie=cookiesArr[_0x35eed2];$['UserName']=_0x2e7ecc[_0x4a39('4c','fnDz')](decodeURIComponent,cookie[_0x4a39('4d','aKUs')](/pt_pin=(.+?);/)&&cookie['match'](/pt_pin=(.+?);/)[0x1]);$[_0x4a39('4e','KJBa')]=_0x2e7ecc[_0x4a39('4f','I32I')](_0x35eed2,0x1);$['isLogin']=!![];$['nickName']='';$[_0x4a39('50','KmxV')]=![];$[_0x4a39('51','lNbU')]=![];await _0x2e7ecc[_0x4a39('52','t]@m')](checkCookie);$['uuid']=await getUUID();$[_0x4a39('53','gS%b')]=await _0x2e7ecc['BKUCY'](random,0xa,0x19);$[_0x4a39('54','!usK')]=await random(0xa,0x708);console['log'](_0x4a39('55','WCPz')+$[_0x4a39('56','[ExX')]+'】'+($['nickName']||$['UserName'])+'*********\x0a');await _0x2e7ecc['BKUCY'](doTask,_0x2e7ecc[_0x4a39('57','1w6z')],_0x4a39('58','3*)G')+$[_0x4a39('59','1w6z')]+_0x4a39('5a','sZYY')+$[_0x4a39('5b','I0g!')]+_0x4a39('5c','pPuf'));await $[_0x4a39('5d','O*1R')](0x3e8);if(!$[_0x4a39('5e','pPuf')]){if(_0x2e7ecc[_0x4a39('5f','wj]@')](_0x2e7ecc['NORbF'],_0x4a39('60','IISo'))){for(let _0x3a8712=0x0;_0x2e7ecc[_0x4a39('61','fnDz')](_0x3a8712,shareCodesList[_0x4a39('62','cA^w')]);_0x3a8712++){if(!$['helpDone']){if(_0x2e7ecc[_0x4a39('63','0FLt')](_0x2e7ecc[_0x4a39('64','mFQG')],_0x2e7ecc[_0x4a39('65',')w!%')])){$['helpEncryptedPin']=shareCodesList[_0x3a8712][_0x4a39('66','ASpO')];$[_0x4a39('67','T1rl')]=shareCodesList[_0x3a8712][_0x4a39('68','1GuM')];await doTask(_0x2e7ecc[_0x4a39('69','0&5M')],'{\x20\x22lbsCity\x22:\x20\x22'+$[_0x4a39('6a','sZYY')]+_0x4a39('6b',')w!%')+$[_0x4a39('6c','mFQG')]+'\x22,\x20\x22inviteId\x22:\x20\x22'+$['helpInviteId']+_0x4a39('6d','HqgJ'));await $[_0x4a39('6e','trr^')](0x7d0);}else{_0x2e7ecc[_0x4a39('6f','R%!)')](resolve);}}}if($['mainInfos']){if(_0x2e7ecc['ebJPl'](_0x4a39('70','3*)G'),_0x2e7ecc[_0x4a39('71','fnDz')])){for(const _0xc147c5 of $['mainInfos']){if(_0x2e7ecc[_0x4a39('72','HifB')](_0xc147c5[_0x4a39('73','pPuf')],0x0)&&_0x2e7ecc[_0x4a39('74','Q359')](_0xc147c5[_0x4a39('75','WCPz')],'1')){await _0x2e7ecc['FZHhH'](doTask,_0x2e7ecc[_0x4a39('76','t]j3')],_0x4a39('77','gS%b')+_0xc147c5[_0x4a39('78','HifB')]+'\x22}');await $[_0x4a39('79','PC6f')](0x7d0);await doTask(_0x2e7ecc['wnvno'],_0x4a39('7a','3&k0')+_0x2e7ecc[_0x4a39('7b','cA^w')](_0xc147c5[_0x4a39('7c','fnDz')],0x1)+',\x22bizIds\x22:\x22\x22}');}}}else{data=JSON[_0x4a39('7d','KmxV')](data);if(data[_0x4a39('7e','TfLj')][_0x4a39('7f','0&5M')]>0x0){$[_0x4a39('80','O*1R')]=data[_0x4a39('81','%RuU')];}else{$[_0x4a39('82','I32I')]=[];}}}if(lottery){if($['lotteryNum']){$[_0x4a39('40','I32I')]('可抽奖次数为：'+$[_0x4a39('83','eXiO')]);for(let _0x26fe87=0x0;_0x2e7ecc['WUGPR'](_0x26fe87,$[_0x4a39('84','9ks#')]);_0x26fe87++){$['log'](_0x2e7ecc[_0x4a39('85','I0g!')]);await _0x2e7ecc[_0x4a39('86','prYF')](doTask,_0x4a39('87','lNbU'),'{}');await $[_0x4a39('88','cA^w')](0x5dc);}}}}else{$[_0x4a39('89','cA^w')]=[];}}}if(message!==''){if($[_0x4a39('8a','n86q')]()){if(_0x2e7ecc['JfQIb'](_0x4a39('8b','gS%b'),_0x2e7ecc[_0x4a39('8c','0FLt')])){$['log'](error);}else{await notify['sendNotify']($[_0x4a39('8d','X(ou')],message);}}else{if(_0x2e7ecc['BVGvO']===_0x2e7ecc[_0x4a39('8e','9ks#')]){$['logErr'](err);}else{$[_0x4a39('8f','0&5M')]($[_0x4a39('90','O*1R')],_0x2e7ecc[_0x4a39('91',')w!%')],message);}}}})()[_0x4a39('92','X(ou')](_0x4d8570=>{$['log']('','❌\x20'+$[_0x4a39('93','HqgJ')]+',\x20失败!\x20原因:\x20'+_0x4d8570+'!','');})[_0x4a39('94','n86q')](()=>{$['done']();});function doTask(_0x3f280f,_0x2fdc64){var _0x4d49f4={'bGmXL':function(_0x3b4e2b,_0x40a1f9){return _0x3b4e2b!==_0x40a1f9;},'ukzpI':'lLxHO','rMTFM':function(_0x362f7b,_0x1e4cd2){return _0x362f7b!==_0x1e4cd2;},'PQXID':'JaEWo','flunP':_0x4a39('95','%RuU'),'vFlIP':_0x4a39('96','4%9X'),'dLXYu':_0x4a39('97','sZYY'),'EtFIT':'ZYoPK','wNkyu':_0x4a39('98','PC6f'),'pydyl':function(_0x8526ec,_0x126333){return _0x8526ec===_0x126333;},'FBDuo':_0x4a39('99',')w!%'),'RTtQn':function(_0x2add88,_0x34ff7b){return _0x2add88===_0x34ff7b;},'vaZwn':_0x4a39('9a','Q359'),'JyxOa':'200','ZkMMQ':_0x4a39('9b','t]@m'),'AYQKx':'京东返回了空数据','gpsus':_0x4a39('9c','R%!)'),'JzRNr':function(_0x401193){return _0x401193();},'bsDwo':function(_0x511c81,_0x207eb9){return _0x511c81===_0x207eb9;},'GflWa':function(_0x31fe5f,_0x1f073b){return _0x31fe5f!==_0x1f073b;},'uaHAd':function(_0x374679,_0x4b5c19,_0x1f0415){return _0x374679(_0x4b5c19,_0x1f0415);}};return new Promise(_0x28c615=>{var _0x47ff99={'NURCp':function(_0x50a3ec,_0x93cd1a){return _0x4d49f4['bsDwo'](_0x50a3ec,_0x93cd1a);}};if(_0x4d49f4[_0x4a39('9d','TfLj')](_0x4a39('9e','pPuf'),'BwLbv')){$['post'](_0x4d49f4[_0x4a39('9f','0&5M')](taskPostUrl,_0x3f280f,_0x2fdc64),(_0x2c8bd3,_0x315027,_0x435e8e)=>{try{if(_0x4d49f4['bGmXL'](_0x4d49f4[_0x4a39('a0','IISo')],_0x4d49f4[_0x4a39('a1','0&5M')])){$['authorShareCodeList']=[];}else{if(_0x2c8bd3){if(_0x4d49f4[_0x4a39('a2','FhSc')](_0x4d49f4['PQXID'],'NlldA')){$[_0x4a39('a3','4%9X')]('异常：'+_0x2c8bd3);}else{$[_0x4a39('a4','KJBa')]=_0x435e8e[_0x4a39('a5','fnDz')];}}else{if(_0x4d49f4[_0x4a39('a6','fnDz')]!==_0x4d49f4['vFlIP']){if(_0x435e8e){_0x435e8e=JSON[_0x4a39('a7','HqgJ')](_0x435e8e);switch(_0x3f280f){case _0x4d49f4[_0x4a39('a8','!usK')]:if(_0x435e8e['data'][_0x4a39('a9','KJBa')]){if(_0x4d49f4['rMTFM'](_0x4a39('aa','0&5M'),_0x4d49f4[_0x4a39('ab','I32I')])){$[_0x4a39('ac','1w6z')](_0x4a39('ad','eWdp')+_0x2c8bd3);}else{$[_0x4a39('ae','ZjKc')]=_0x435e8e[_0x4a39('af','HifB')]['result'][_0x4a39('b0','OfEL')];$[_0x4a39('b1','prYF')]=_0x435e8e[_0x4a39('b2',')w!%')][_0x4a39('b3','X(ou')]['userActBaseInfo'][_0x4a39('b4','tzjh')];$['mainInfos']=_0x435e8e[_0x4a39('b5','gS%b')]['result'][_0x4a39('b6','3&k0')];$[_0x4a39('b7','T1rl')]=_0x435e8e[_0x4a39('b8','KvlV')][_0x4a39('b9','t]j3')][_0x4a39('ba','wj]@')];if(_0x435e8e[_0x4a39('b8','KvlV')][_0x4a39('bb','Q359')]['hasOwnProperty'](_0x4d49f4['wNkyu'])){$['log'](''+_0x435e8e['data'][_0x4a39('bc','I0g!')][_0x4a39('bd','1w6z')][0x0][_0x4a39('be','ASpO')]);if(_0x4d49f4['pydyl'](_0x435e8e[_0x4a39('bf','prYF')][_0x4a39('c0','aKUs')]['toasts'][0x0]['status'],'3')){if('IgbXJ'===_0x4d49f4[_0x4a39('c1',')w!%')]){$[_0x4a39('51','lNbU')]=!![];}else{$[_0x4a39('c2','PC6f')](error);}}}}}else{if(_0x4d49f4['RTtQn'](_0x435e8e['data'][_0x4a39('c3','Q359')],-0xb)){$['risk']=!![];$['log'](_0x435e8e[_0x4a39('c4','T1rl')]['bizMsg']);}}break;case _0x4d49f4[_0x4a39('c5','ZjKc')]:if(_0x4d49f4['RTtQn'](_0x435e8e['bcode'],_0x4d49f4['JyxOa'])){$[_0x4a39('c6','0&5M')]=_0x435e8e[_0x4a39('c7','3*)G')];}break;case _0x4a39('c8','4%9X'):if(_0x435e8e['data'][_0x4a39('c9','0&5M')]){if(_0x4d49f4['ZkMMQ']!==_0x4a39('ca','%RuU')){$[_0x4a39('cb','KJBa')]=_0x435e8e['data'][_0x4a39('cc','tP$%')][_0x4a39('cd','IISo')][_0x4a39('ce','pPuf')];}else{$[_0x4a39('cf','sZYY')](_0x4a39('d0','mFQG')+_0x435e8e[_0x4a39('d1','sZYY')]['result'][_0x4a39('d2','9ks#')]+_0x4a39('d3','HqgJ'));message+='\x0a【京东账号'+$['index']+'】'+($[_0x4a39('d4','cA^w')]||$[_0x4a39('2b','TfLj')])+_0x4a39('d5','TfLj')+_0x435e8e[_0x4a39('d6','ZjKc')]['result'][_0x4a39('d7','tP$%')]+_0x4a39('d8','3*)G');}}$['log'](JSON[_0x4a39('d9','gS%b')](_0x435e8e));break;default:$[_0x4a39('da','WCPz')](JSON[_0x4a39('db','KmxV')](_0x435e8e));break;}}else{$[_0x4a39('dc','n86q')](_0x4d49f4[_0x4a39('dd','3*)G')]);}}else{if(_0x2c8bd3){$[_0x4a39('de','I0g!')](_0x4a39('df','cA^w')+JSON['stringify'](_0x2c8bd3));}else{_0x435e8e=JSON[_0x4a39('e0','X(ou')](_0x435e8e);if(_0x47ff99[_0x4a39('e1','eXiO')](_0x435e8e[_0x4a39('e2','ZjKc')],0xc8)){$[_0x4a39('e3','t]@m')]('\x0a'+_0x435e8e[_0x4a39('e4','9ks#')]);}}}}}}catch(_0x56d7a4){$[_0x4a39('e5','fnDz')](_0x4a39('e6','KmxV')+_0x56d7a4);}finally{if(_0x4d49f4[_0x4a39('e7','WCPz')]===_0x4a39('e8','lNbU')){$[_0x4a39('e9','0FLt')]=_0x435e8e[_0x4a39('ea','1GuM')];}else{_0x4d49f4[_0x4a39('eb','tzjh')](_0x28c615);}}});}else{$['logErr'](e);}});}function submitShareCode(_0x261fb6){var _0x4e07c6={'mgFsD':_0x4a39('ec','!usK'),'yXSkH':function(_0x46b813,_0x27a03b){return _0x46b813===_0x27a03b;},'qHsOO':function(_0x18e6a9,_0x5a0d54){return _0x18e6a9===_0x5a0d54;},'JZaeo':'sibBg','ZXdkH':function(_0x180a01,_0x19a92f){return _0x180a01!==_0x19a92f;},'qTNqj':_0x4a39('ed',')w!%'),'NyNXU':function(_0x3c472f,_0x383c23){return _0x3c472f!==_0x383c23;},'PdAhG':'iLhrN','rUPDK':'wNleZ','kRSKO':'https://api.r2ray.com/jd.citycash/update','Hwgoh':'application/json'};let _0x2e679c={'url':_0x4e07c6[_0x4a39('ee','trr^')],'headers':{'Content-Type':_0x4e07c6[_0x4a39('ef','t]@m')]},'body':JSON[_0x4a39('f0','I32I')](_0x261fb6)};return new Promise(_0x235ab4=>{var _0x10409c={'Gfych':function(_0x35cc7c){return _0x35cc7c();}};$['post'](_0x2e679c,(_0x211966,_0x6da51d,_0x2fd40c)=>{try{if(_0x211966){if(_0x4e07c6[_0x4a39('f1','0FLt')]===_0x4a39('f2','trr^')){$[_0x4a39('f3','HifB')](_0x4a39('f4','fnDz')+JSON[_0x4a39('f5','trr^')](_0x211966));}else{_0x10409c[_0x4a39('f6','tzjh')](_0x235ab4);}}else{_0x2fd40c=JSON['parse'](_0x2fd40c);if(_0x4e07c6['yXSkH'](_0x2fd40c['code'],0xc8)){if(_0x4e07c6[_0x4a39('f7','t]@m')](_0x4e07c6[_0x4a39('f8','OfEL')],_0x4e07c6[_0x4a39('f9','O*1R')])){$[_0x4a39('fa','!usK')]('\x0a'+_0x2fd40c['msg']);}else{$[_0x4a39('fb','[ExX')]('异常：'+error);}}}}catch(_0x4487c2){if(_0x4e07c6['ZXdkH'](_0x4e07c6[_0x4a39('fc','!usK')],_0x4a39('fd','KmxV'))){$['log'](_0x4a39('fe','KJBa')+JSON['stringify'](_0x4487c2));}else{$['log'](_0x211966);}}finally{if(_0x4e07c6[_0x4a39('ff','0&5M')](_0x4e07c6[_0x4a39('100','eWdp')],_0x4e07c6['rUPDK'])){_0x235ab4();}else{$['log']('\x0a'+_0x2fd40c[_0x4a39('12','t]@m')]);}}});});}function getShareCode(){var _0x74e7b5={'BIBmX':_0x4a39('101','Q359'),'tSXhJ':function(_0x4f6cb0,_0x2d440c){return _0x4f6cb0*_0x2d440c;},'cOwpv':_0x4a39('102','KJBa'),'GHwjW':_0x4a39('103','!usK'),'lsZdq':function(_0x2ce69a,_0x2108e6){return _0x2ce69a>_0x2108e6;},'bVTAg':function(_0xa60495,_0x48b2eb){return _0xa60495===_0x48b2eb;},'NVEFM':_0x4a39('104','0&5M'),'liTMt':_0x4a39('105','FhSc'),'aBFeF':'https://api.r2ray.com/jd.citycash/index'};return new Promise(_0x2ba5c2=>{var _0x22fc5e={'FEsKQ':_0x74e7b5[_0x4a39('106','9ks#')],'AjQwk':'https://bean.m.jd.com/bean/signIndex.action','VcHbM':function(_0x42f9a2,_0x140ef8){return _0x42f9a2+_0x140ef8;},'SRCsZ':function(_0x13e787,_0xbef0d8){return _0x74e7b5['tSXhJ'](_0x13e787,_0xbef0d8);},'sxbbn':function(_0x1c3b97,_0x3d5188){return _0x1c3b97-_0x3d5188;},'KRpgk':_0x74e7b5[_0x4a39('107','OfEL')],'AkohF':_0x74e7b5[_0x4a39('108','sZYY')],'SAIVL':_0x4a39('109','ASpO'),'pHEDz':function(_0x552e23,_0x23c283){return _0x74e7b5['lsZdq'](_0x552e23,_0x23c283);},'YFtmS':function(_0x59e890,_0x12ef0c){return _0x74e7b5['bVTAg'](_0x59e890,_0x12ef0c);},'kaflY':_0x74e7b5[_0x4a39('10a','T1rl')],'kGnFy':_0x74e7b5['liTMt'],'NuxAv':function(_0x21e974){return _0x21e974();}};$[_0x4a39('10b','R%!)')]({'url':_0x74e7b5[_0x4a39('10c','wj]@')]},(_0x496f98,_0x5723e9,_0x12f8fe)=>{if(_0x22fc5e['KRpgk']!==_0x22fc5e[_0x4a39('10d','gS%b')]){try{if(_0x496f98){$['log'](_0x496f98);}else{if(_0x22fc5e['SAIVL']!==_0x22fc5e[_0x4a39('10e',')w!%')]){$['isLogin']=![];return;}else{_0x12f8fe=JSON[_0x4a39('10f','HifB')](_0x12f8fe);if(_0x22fc5e[_0x4a39('110','I32I')](_0x12f8fe[_0x4a39('111','tP$%')]['length'],0x0)){$['shareCodeList']=_0x12f8fe[_0x4a39('112','3*)G')];}else{$[_0x4a39('113','!usK')]=[];}}}}catch(_0x105a5c){$[_0x4a39('114','1GuM')](_0x105a5c);}finally{if(_0x22fc5e[_0x4a39('115','t]@m')](_0x22fc5e['kaflY'],_0x22fc5e[_0x4a39('116','t]@m')])){$['msg']($['name'],_0x22fc5e[_0x4a39('117','0&5M')],_0x22fc5e[_0x4a39('118','KvlV')],{'open-url':_0x22fc5e[_0x4a39('119','X(ou')]});return;}else{_0x22fc5e['NuxAv'](_0x2ba5c2);}}}else{return _0x22fc5e[_0x4a39('11a','X(ou')](Math['floor'](_0x22fc5e[_0x4a39('11b','KmxV')](Math[_0x4a39('11c','I0g!')](),_0x22fc5e[_0x4a39('11d','t]j3')](max,min))),min);}});});}function getAuthorShareCode(){var _0x3a0c02={'NkHaG':_0x4a39('11e','3*)G'),'zCdDY':function(_0xf9e139,_0x2828a6){return _0xf9e139|_0x2828a6;},'XZIGh':function(_0x31c43c,_0x40cbd2){return _0x31c43c&_0x40cbd2;},'jzdZC':function(_0x55cab3,_0x12201e){return _0x55cab3==_0x12201e;},'ImdhZ':function(_0x4a4a05,_0xde8584){return _0x4a4a05===_0xde8584;},'rPqpi':_0x4a39('11f','I0g!'),'xHkKq':_0x4a39('120','trr^'),'LsjSh':_0x4a39('121','HqgJ'),'OfVzu':_0x4a39('122','HifB'),'eEpVH':_0x4a39('123','0&5M')};return new Promise(_0x50ab4a=>{var _0x24584b={'cqkOm':_0x3a0c02[_0x4a39('124','prYF')],'jJWzv':function(_0x15c849,_0xab5994){return _0x15c849|_0xab5994;},'YFPuT':function(_0x2853f8,_0x30b75e){return _0x3a0c02['zCdDY'](_0x2853f8,_0x30b75e);},'WqykA':function(_0x125054,_0x3f6c53){return _0x3a0c02[_0x4a39('125','0&5M')](_0x125054,_0x3f6c53);},'hpMTy':function(_0x179941,_0x4992ea){return _0x179941*_0x4992ea;},'ETkdO':function(_0x494c8,_0x1d64ae){return _0x3a0c02['jzdZC'](_0x494c8,_0x1d64ae);},'XdUNv':_0x4a39('126','t]@m'),'wAFLf':function(_0x5ceb5d,_0x59e522){return _0x3a0c02['ImdhZ'](_0x5ceb5d,_0x59e522);},'Zkyqn':_0x3a0c02[_0x4a39('127','PC6f')],'QJpIQ':function(_0x302526,_0x138b05){return _0x302526!==_0x138b05;},'XzHws':_0x3a0c02[_0x4a39('128','I32I')],'Ichye':_0x3a0c02[_0x4a39('129','I32I')],'wdgsa':_0x3a0c02[_0x4a39('12a','ASpO')],'Cpnpt':function(_0x404f7e){return _0x404f7e();}};$[_0x4a39('12b','3&k0')]({'url':_0x3a0c02[_0x4a39('12c','T1rl')]},(_0x47434d,_0x259cda,_0x4a00c8)=>{var _0x29031c={'MITcH':_0x24584b[_0x4a39('12d','eWdp')],'oUgqN':function(_0x5873c1,_0x6428b7){return _0x24584b[_0x4a39('12e','O*1R')](_0x5873c1,_0x6428b7);},'wotHV':function(_0x2b8a3f,_0x32d7f1){return _0x24584b['YFPuT'](_0x2b8a3f,_0x32d7f1);},'guwMR':function(_0x1bc324,_0x18c848){return _0x24584b[_0x4a39('12f','I0g!')](_0x1bc324,_0x18c848);},'xcuhu':function(_0x577d22,_0x5863b8){return _0x24584b[_0x4a39('130','4%9X')](_0x577d22,_0x5863b8);},'NSfsy':function(_0x16bb81,_0x371442){return _0x24584b[_0x4a39('131','Q359')](_0x16bb81,_0x371442);},'rndTd':function(_0x5af168,_0x25a95e){return _0x24584b['YFPuT'](_0x5af168,_0x25a95e);},'ljwFI':_0x24584b[_0x4a39('132','3&k0')]};try{if(_0x47434d){$[_0x4a39('133','KJBa')](_0x47434d);}else{_0x4a00c8=JSON[_0x4a39('134','1GuM')](_0x4a00c8);if(_0x4a00c8[_0x4a39('135','X(ou')][_0x4a39('136','aKUs')]>0x0){if(_0x24584b[_0x4a39('137',')w!%')](_0x24584b['Zkyqn'],_0x24584b[_0x4a39('138','sZYY')])){$[_0x4a39('139','t]j3')]=_0x4a00c8['data'];}else{$['log'](_0x29031c['MITcH']);}}else{$[_0x4a39('13a','1w6z')]=[];}}}catch(_0x218b66){if(_0x24584b['QJpIQ'](_0x4a39('13b','!usK'),_0x24584b['XzHws'])){$[_0x4a39('13c','tP$%')](_0x218b66);}else{var _0x37c1db=_0x29031c[_0x4a39('13d','4%9X')](Math[_0x4a39('13e','%RuU')]()*0x10,0x0),_0x53167a=c=='x'?_0x37c1db:_0x29031c[_0x4a39('13f','0FLt')](_0x29031c[_0x4a39('140','X(ou')](_0x37c1db,0x3),0x8);return _0x53167a[_0x4a39('141',')w!%')](0x24);}}finally{if(_0x24584b[_0x4a39('142','prYF')]!==_0x24584b[_0x4a39('143','KvlV')]){_0x24584b[_0x4a39('144','X(ou')](_0x50ab4a);}else{var _0x55a6af={'WZxlE':function(_0x3bdd50,_0x151559){return _0x3bdd50|_0x151559;},'OhmPm':function(_0x58df00,_0x522f2c){return _0x29031c[_0x4a39('145','Q359')](_0x58df00,_0x522f2c);},'yiEYW':function(_0xcb75b4,_0x5b881d){return _0x29031c[_0x4a39('146','[ExX')](_0xcb75b4,_0x5b881d);},'yHIVE':function(_0x131ea6,_0x588cfe){return _0x29031c[_0x4a39('147','cA^w')](_0x131ea6,_0x588cfe);}};return _0x29031c[_0x4a39('148','PC6f')][_0x4a39('149','FhSc')](/[xy]/g,function(_0x270497){var _0x170680=_0x55a6af['WZxlE'](_0x55a6af['OhmPm'](Math[_0x4a39('14a','KvlV')](),0x10),0x0),_0x419a02=_0x55a6af[_0x4a39('14b','1w6z')](_0x270497,'x')?_0x170680:_0x55a6af[_0x4a39('14c','gS%b')](_0x170680&0x3,0x8);return _0x419a02[_0x4a39('14d','wj]@')](0x24);});}}});});}function getUUID(){var _0x43c4ad={'DVdmF':function(_0x1cebba,_0x36d182){return _0x1cebba!==_0x36d182;},'oJuUY':function(_0x3352a7,_0x4866df){return _0x3352a7|_0x4866df;},'pDkHt':function(_0x2a42c6,_0x30c25d){return _0x2a42c6==_0x30c25d;},'MnJEm':function(_0xd0b4db,_0x336831){return _0xd0b4db&_0x336831;}};return'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'['replace'](/[xy]/g,function(_0x5781ff){if(_0x43c4ad[_0x4a39('14e','Q359')]('uvREh',_0x4a39('14f','pPuf'))){var _0x3a0a9b=_0x43c4ad[_0x4a39('150','t]j3')](Math['random']()*0x10,0x0),_0x151837=_0x43c4ad['pDkHt'](_0x5781ff,'x')?_0x3a0a9b:_0x43c4ad['oJuUY'](_0x43c4ad[_0x4a39('151','TfLj')](_0x3a0a9b,0x3),0x8);return _0x151837[_0x4a39('152','3*)G')](0x24);}else{$[_0x4a39('153','9ks#')](''+data[_0x4a39('154','tzjh')][_0x4a39('155','4%9X')][_0x4a39('156','t]@m')][0x0][_0x4a39('157','!usK')]);if(data['data'][_0x4a39('158','[ExX')][_0x4a39('159','%RuU')][0x0][_0x4a39('15a','R%!)')]==='3'){$['helpDone']=!![];}}});}function random(_0x374d0e,_0x471951){var _0x226dec={'HOivB':function(_0x343556,_0x48bc86){return _0x343556*_0x48bc86;}};return Math[_0x4a39('15b','TfLj')](_0x226dec['HOivB'](Math['random'](),_0x471951-_0x374d0e))+_0x374d0e;}function taskPostUrl(_0x4917ec,_0x87374c){var _0x34f105={'MazRB':'api.m.jd.com','WuqtA':'application/x-www-form-urlencoded','NlbIe':_0x4a39('15c','cA^w'),'OLzvq':_0x4a39('15d','n86q'),'yVffg':'application/json,\x20text/plain,\x20*/*','btmtZ':_0x4a39('15e','3*)G'),'SUqEl':_0x4a39('15f','KvlV')};return{'url':'https://api.m.jd.com/client.action','headers':{'Host':_0x34f105[_0x4a39('160','HifB')],'Content-Type':_0x34f105[_0x4a39('161','eWdp')],'Origin':'https://bunearth.m.jd.com','Accept-Encoding':_0x34f105[_0x4a39('162','eWdp')],'Cookie':cookie,'Connection':_0x34f105[_0x4a39('163','I0g!')],'Accept':_0x34f105['yVffg'],'User-Agent':_0x34f105[_0x4a39('164','FhSc')],'Referer':'https://bunearth.m.jd.com/babelDiy/Zeus/x4pWW6pvDwW7DjxMmBbnzoub8J/index.html?encryptedPin='+$[_0x4a39('165',')w!%')]+'&inviteId='+$[_0x4a39('166','ZjKc')]+_0x4a39('167',')w!%'),'Accept-Language':_0x34f105['SUqEl']},'body':_0x4a39('168','KmxV')+_0x4917ec+_0x4a39('169','aKUs')+_0x87374c+_0x4a39('16a','WCPz')+$[_0x4a39('16b','FhSc')]};}function checkCookie(){var _0x391b77={'pcgnB':function(_0x17c2ff,_0x5052d7){return _0x17c2ff!==_0x5052d7;},'cdluE':_0x4a39('16c','aKUs'),'IXhZx':_0x4a39('16d','KvlV'),'rHgup':function(_0x3b1a49,_0x5c65db){return _0x3b1a49===_0x5c65db;},'TVgOV':_0x4a39('16e','O*1R'),'EDcQe':_0x4a39('16f','!usK'),'mkqDz':'京东返回了空数据','lgVJv':function(_0x36e113){return _0x36e113();},'PhPQM':'https://me-api.jd.com/user_new/info/GetJDUserInfoUnion','AEGZJ':'*/*','SmhgE':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/14.0.2\x20Mobile/15E148\x20Safari/604.1','LChdH':'zh-cn','WRfoF':'https://home.m.jd.com/myJd/newhome.action?sceneval=2&ufc=&'};const _0x183c87={'url':_0x391b77[_0x4a39('170','4%9X')],'headers':{'Host':_0x4a39('171','pPuf'),'Accept':_0x391b77['AEGZJ'],'Connection':_0x4a39('172','wj]@'),'Cookie':cookie,'User-Agent':_0x391b77[_0x4a39('173','I32I')],'Accept-Language':_0x391b77[_0x4a39('174','t]j3')],'Referer':_0x391b77[_0x4a39('175','!usK')],'Accept-Encoding':'gzip,\x20deflate,\x20br'}};return new Promise(_0x5d29d0=>{$[_0x4a39('176','WCPz')](_0x183c87,(_0x32409c,_0x57ee72,_0x2f24b6)=>{try{if(_0x391b77[_0x4a39('177','HqgJ')](_0x391b77['cdluE'],'yOWnY')){if(_0x32409c){if(_0x391b77['IXhZx']!==_0x4a39('178','I0g!')){$['logErr'](_0x32409c);}else{$[_0x4a39('179','HifB')]($[_0x4a39('17a','FhSc')],_0x4a39('17b','eWdp'),message);}}else{if(_0x2f24b6){_0x2f24b6=JSON[_0x4a39('17c','0FLt')](_0x2f24b6);if(_0x391b77[_0x4a39('17d',')w!%')](_0x2f24b6['retcode'],_0x4a39('17e','t]@m'))){$['isLogin']=![];return;}if(_0x391b77[_0x4a39('17f','wj]@')](_0x2f24b6[_0x4a39('180','wj]@')],'0')&&_0x2f24b6[_0x4a39('181','WCPz')][_0x4a39('182','I32I')](_0x391b77['TVgOV'])){if(_0x391b77['pcgnB'](_0x391b77[_0x4a39('183','X(ou')],_0x391b77[_0x4a39('184','T1rl')])){$[_0x4a39('185','mFQG')]=!![];}else{$[_0x4a39('186','9ks#')]=_0x2f24b6[_0x4a39('187','ASpO')][_0x4a39('188','9ks#')][_0x4a39('189','4%9X')][_0x4a39('18a','gS%b')];}}}else{$['log'](_0x391b77[_0x4a39('18b','I0g!')]);}}}else{$[_0x4a39('18c','tP$%')]=_0x2f24b6[_0x4a39('d1','sZYY')];}}catch(_0x9d2601){$[_0x4a39('18d','PC6f')](_0x9d2601);}finally{_0x391b77[_0x4a39('18e','sZYY')](_0x5d29d0);}});});};_0xod9='jsjiami.com.v6';
// prettier-ignore
function Env(t, e) {  class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
